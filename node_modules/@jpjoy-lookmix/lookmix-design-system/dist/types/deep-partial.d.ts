/**
 * DeepPartial
 * Makes all properties of T optional recursively.
 *
 * - Works with nested objects
 * - Preserves functions
 * - Supports readonly arrays
 *
 * Example:
 * type A = { a: { b: string } }
 * DeepPartial<A> => { a?: { b?: string } }
 */
export type DeepPartial<T> = T extends (...args: any[]) => any ? T : T extends readonly (infer U)[] ? readonly DeepPartial<U>[] : T extends Array<infer U> ? Array<DeepPartial<U>> : T extends object ? {
    [P in keyof T]?: DeepPartial<T[P]>;
} : T;
